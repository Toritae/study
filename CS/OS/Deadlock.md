Deadlock
===
> 두 개 이상의 프로세스나 스레드가 서로 자원을 얻지 못하여 다음 처리가 불가한 상태  
> 주로, 멀티 프로그래밍 환경에서 한정된 자원을 얻기위해 서로 경쟁하는 상황에서 발생한다.
> 
![Deadlock](https://camo.githubusercontent.com/a78df4477534741d6058a959e753fe82050589944c8801b4fc88c23d4696fcad/68747470733a2f2f74312e6461756d63646e2e6e65742f6366696c652f746973746f72792f323433453839333535373134433236453238)
### Deadlock의 발생조건
1. 상호 배제
   + 자원은 한 프로세스만 사용 할 수 있다.
2. 점유 대기
   + 최소한 하나의 자원을 점유하고 있으면서 다른 프로세서에 할당되어 사용되고 있는 자원을 추가로 점유하기 위하여 대기하는 프로세스가 존재하여야 함
3. 비선점
   + 다른 프로세스에 할당된 자원은 사용이 끝날 때까지 강제로 빼았을 수 없다.
4. 순환 대기
   + 프로세스의 집합에서 순환 형태로 자원을 대기하고 있어야 함. 

### Deadlock 처리
1. 예방
   + 상호 배제 부정 - 여러 프로세스가 공유 자원 사용
     + Semaphore 알고리즘
   + 점유 대기 부정 - 프로세스 실행전 모든 자원 할당
   + 비선점 부정 - 자원 점유중인 프로세스가 다른 자원을 요구시 가진 자원 반납
   + 순환 대기 부정 - 자원에 고유 번호 할당 후 순서대로 자원 요구  
   
2. 회피
   + 은행원 알고리즘 
     + 프로세스가 자원을 요구할 때, 시스템은 자원을 할당한 후에도 안정 상태로 남아있게 되는지 사전에 검사하여 
       안정 상태면 자원 할당, 아니면 다른 프로세스들이 자원 해지까지 대기
3. 탐지
   + 자원 할당 그래프를 통해 교착 상태를 탐지하며, 자원 요청시 탐지 알고리즘 실행하여 오베헤드를 발생시킴.
4. 회복
   + 교착 상태의 프로세스를 모두 중지하거나 교착상태가 제거 될 때까지 하나씩 프로세스 중지
   + 교착 상태의 프로세스가 점유하고 있는 자원을 선점해 다른 프로세스에게 할당 (해당 프로세스 일시정지 시킴) 후
     우선 순위가 낮은 프로세스나 수행 횟수 적은 프로세스 위주로 프로세스 자원 선점